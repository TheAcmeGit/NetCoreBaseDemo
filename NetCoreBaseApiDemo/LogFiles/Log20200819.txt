2020-08-19 08:45:37.854 +08:00 [INF] 程序启动
2020-08-19 08:45:43.563 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 08:45:44.759 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 08:45:44.760 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 08:45:44.761 +08:00 [INF] Hosting environment: Development
2020-08-19 08:45:44.762 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 08:45:49.576 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 08:45:50.271 +08:00 [INF] Request finished in 714.5744ms 200 text/html;charset=utf-8
2020-08-19 08:45:53.595 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 08:45:53.982 +08:00 [INF] Request finished in 387.7459ms 200 application/json;charset=utf-8
2020-08-19 08:46:01.249 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/WeatherForecast  
2020-08-19 08:46:01.885 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.WeatherForecastController.Get (NetCoreBaseApiDemo)'
2020-08-19 08:46:01.962 +08:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[NetCoreBaseApiDemo.WeatherForecast] Get() on controller NetCoreBaseApiDemo.Controllers.WeatherForecastController (NetCoreBaseApiDemo).
2020-08-19 08:46:01.970 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.WeatherForecastController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 08:46:01.980 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.WeatherForecastController.Get (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.0674ms.
2020-08-19 08:46:01.986 +08:00 [INF] Executing ObjectResult, writing value of type 'NetCoreBaseApiDemo.WeatherForecast[]'.
2020-08-19 08:46:02.013 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.WeatherForecastController.Get (NetCoreBaseApiDemo) in 46.2012ms
2020-08-19 08:46:02.015 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.WeatherForecastController.Get (NetCoreBaseApiDemo)'
2020-08-19 08:46:02.024 +08:00 [INF] Request finished in 775.3068ms 200 application/json; charset=utf-8
2020-08-19 08:46:37.022 +08:00 [INF] Application is shutting down...
2020-08-19 09:13:43.445 +08:00 [INF] 程序启动
2020-08-19 09:13:44.549 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 09:13:44.822 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 09:13:44.823 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 09:13:44.823 +08:00 [INF] Hosting environment: Development
2020-08-19 09:13:44.824 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 09:13:46.614 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 09:13:46.963 +08:00 [INF] Request finished in 350.6406ms 200 text/html;charset=utf-8
2020-08-19 09:13:47.862 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 09:13:48.210 +08:00 [INF] Request finished in 347.4351ms 200 application/json;charset=utf-8
2020-08-19 09:13:51.650 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/WeatherForecast  
2020-08-19 09:13:52.177 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.WeatherForecastController.Get (NetCoreBaseApiDemo)'
2020-08-19 09:13:52.249 +08:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller NetCoreBaseApiDemo.Controllers.WeatherForecastController (NetCoreBaseApiDemo).
2020-08-19 09:13:52.258 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.WeatherForecastController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 09:13:52.267 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.WeatherForecastController.Get (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.3006ms.
2020-08-19 09:13:52.274 +08:00 [INF] Executing ObjectResult, writing value of type 'NetCoreBaseApiDemo.WeatherForecast[]'.
2020-08-19 09:13:52.310 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.WeatherForecastController.Get (NetCoreBaseApiDemo) in 55.477ms
2020-08-19 09:13:52.312 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.WeatherForecastController.Get (NetCoreBaseApiDemo)'
2020-08-19 09:13:52.350 +08:00 [INF] Request finished in 699.9229ms 200 application/json; charset=utf-8
2020-08-19 09:14:12.805 +08:00 [INF] Application is shutting down...
2020-08-19 09:21:37.954 +08:00 [INF] 程序启动
2020-08-19 09:21:38.235 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 09:21:38.426 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 09:21:38.427 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 09:21:38.427 +08:00 [INF] Hosting environment: Development
2020-08-19 09:21:38.427 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 09:21:39.003 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 09:21:39.269 +08:00 [INF] Request finished in 270.9317ms 200 text/html;charset=utf-8
2020-08-19 09:21:39.845 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 09:21:39.988 +08:00 [INF] Request finished in 144.8574ms 200 application/json;charset=utf-8
2020-08-19 09:21:44.535 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/ApiTokenManage  
2020-08-19 09:21:44.589 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo)'
2020-08-19 09:21:44.617 +08:00 [INF] Route matched with {action = "Get", controller = "ApiTokenManage"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller NetCoreBaseApiDemo.Controllers.ApiTokenManageController (NetCoreBaseApiDemo).
2020-08-19 09:21:44.624 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 09:21:45.246 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 613.7711ms.
2020-08-19 09:21:45.252 +08:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-08-19 09:21:45.259 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo) in 636.2112ms
2020-08-19 09:21:45.261 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo)'
2020-08-19 09:21:45.270 +08:00 [INF] Request finished in 735.9109ms 200 text/plain; charset=utf-8
2020-08-19 09:22:05.231 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/ApiTokenManage/id?id=111  
2020-08-19 09:22:05.235 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo)'
2020-08-19 09:22:05.267 +08:00 [INF] Route matched with {action = "Get", controller = "ApiTokenManage"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(System.String) on controller NetCoreBaseApiDemo.Controllers.ApiTokenManageController (NetCoreBaseApiDemo).
2020-08-19 09:22:05.326 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 09:22:05.344 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 15.1999ms.
2020-08-19 09:22:05.347 +08:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-08-19 09:22:05.350 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo) in 81.6053ms
2020-08-19 09:22:05.352 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo)'
2020-08-19 09:22:05.354 +08:00 [INF] Request finished in 123.8801ms 400 application/json; charset=utf-8
2020-08-19 09:22:51.177 +08:00 [INF] Application is shutting down...
2020-08-19 09:23:59.507 +08:00 [INF] 程序启动
2020-08-19 09:23:59.766 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 09:23:59.940 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 09:23:59.941 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 09:23:59.941 +08:00 [INF] Hosting environment: Development
2020-08-19 09:23:59.942 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 09:24:00.179 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 09:24:00.495 +08:00 [INF] Request finished in 319.3419ms 200 text/html;charset=utf-8
2020-08-19 09:24:00.678 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 09:24:00.859 +08:00 [INF] Request finished in 181.2172ms 200 application/json;charset=utf-8
2020-08-19 09:24:04.408 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/ApiTokenManage  
2020-08-19 09:24:04.459 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo)'
2020-08-19 09:24:04.492 +08:00 [INF] Route matched with {action = "Get", controller = "ApiTokenManage"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller NetCoreBaseApiDemo.Controllers.ApiTokenManageController (NetCoreBaseApiDemo).
2020-08-19 09:24:04.499 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 09:24:04.618 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 110.8512ms.
2020-08-19 09:24:04.627 +08:00 [INF] Executing ObjectResult, writing value of type 'NetCoreBaseDemo.Core.Models.BaseResutlData'.
2020-08-19 09:24:04.636 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo) in 138.4312ms
2020-08-19 09:24:04.637 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo)'
2020-08-19 09:24:04.647 +08:00 [INF] Request finished in 239.7212ms 200 application/json; charset=utf-8
2020-08-19 09:24:19.209 +08:00 [INF] Application is shutting down...
2020-08-19 09:25:13.088 +08:00 [INF] 程序启动
2020-08-19 09:25:33.773 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 09:25:36.661 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 09:25:36.663 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 09:25:36.663 +08:00 [INF] Hosting environment: Development
2020-08-19 09:25:36.663 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 09:25:41.118 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 09:25:41.580 +08:00 [INF] Request finished in 465.4804ms 200 text/html;charset=utf-8
2020-08-19 09:25:42.021 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 09:25:42.532 +08:00 [INF] Request finished in 511.5017ms 200 application/json;charset=utf-8
2020-08-19 09:25:46.226 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/ApiTokenManage  
2020-08-19 09:25:46.973 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo)'
2020-08-19 09:25:47.234 +08:00 [INF] Route matched with {action = "Get", controller = "ApiTokenManage"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller NetCoreBaseApiDemo.Controllers.ApiTokenManageController (NetCoreBaseApiDemo).
2020-08-19 09:25:47.500 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 09:25:48.248 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 729.0887ms.
2020-08-19 09:26:23.145 +08:00 [INF] Executing ObjectResult, writing value of type 'NetCoreBaseDemo.Core.Models.BaseResutlData'.
2020-08-19 09:26:23.205 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo) in 35964.8316ms
2020-08-19 09:26:23.207 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo)'
2020-08-19 09:26:23.232 +08:00 [INF] Request finished in 37006.7184ms 200 application/json; charset=utf-8
2020-08-19 09:26:42.907 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/ApiTokenManage/id?id=888  
2020-08-19 09:26:42.911 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo)'
2020-08-19 09:26:42.937 +08:00 [INF] Route matched with {action = "Get", controller = "ApiTokenManage"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(System.String) on controller NetCoreBaseApiDemo.Controllers.ApiTokenManageController (NetCoreBaseApiDemo).
2020-08-19 09:26:43.005 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 09:26:43.308 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 301.0474ms.
2020-08-19 09:28:01.423 +08:00 [INF] 程序启动
2020-08-19 09:28:16.780 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 09:28:17.176 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 09:28:17.177 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 09:28:17.177 +08:00 [INF] Hosting environment: Development
2020-08-19 09:28:17.178 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 09:28:19.012 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 09:28:19.584 +08:00 [INF] Request finished in 575.3637ms 200 text/html;charset=utf-8
2020-08-19 09:28:19.962 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 09:28:20.108 +08:00 [INF] Request finished in 146.5161ms 200 application/json;charset=utf-8
2020-08-19 09:28:24.349 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/WeatherForecast  
2020-08-19 09:28:24.454 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.WeatherForecastController.Get (NetCoreBaseApiDemo)'
2020-08-19 09:28:24.495 +08:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller NetCoreBaseApiDemo.Controllers.WeatherForecastController (NetCoreBaseApiDemo).
2020-08-19 09:28:24.510 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.WeatherForecastController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 09:28:24.522 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.WeatherForecastController.Get (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.7861ms.
2020-08-19 09:29:29.421 +08:00 [INF] 程序启动
2020-08-19 09:29:35.556 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 09:29:35.952 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 09:29:35.953 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 09:29:35.953 +08:00 [INF] Hosting environment: Development
2020-08-19 09:29:35.954 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 09:29:36.579 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 09:29:36.754 +08:00 [INF] Request finished in 180.8833ms 200 text/html;charset=utf-8
2020-08-19 09:29:36.931 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 09:29:37.126 +08:00 [INF] Request finished in 194.4688ms 200 application/json;charset=utf-8
2020-08-19 09:29:42.022 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/WeatherForecast  
2020-08-19 09:29:42.121 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.WeatherForecastController.Get (NetCoreBaseApiDemo)'
2020-08-19 09:29:42.167 +08:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[NetCoreBaseApiDemo.WeatherForecast] Get() on controller NetCoreBaseApiDemo.Controllers.WeatherForecastController (NetCoreBaseApiDemo).
2020-08-19 09:29:42.248 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.WeatherForecastController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 09:29:42.257 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.WeatherForecastController.Get (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.4158ms.
2020-08-19 09:33:55.468 +08:00 [INF] 程序启动
2020-08-19 09:33:55.743 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 09:33:55.927 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 09:33:55.928 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 09:33:55.928 +08:00 [INF] Hosting environment: Development
2020-08-19 09:33:55.928 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 09:33:56.409 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 09:33:56.619 +08:00 [INF] Request finished in 214.619ms 200 text/html;charset=utf-8
2020-08-19 09:33:56.773 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 09:33:56.861 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Conflicting method/path combination "GET api/ApiTokenManage" for actions - NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo),NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-19 09:33:57.050 +08:00 [INF] Request finished in 276.9776ms 500 text/plain
2020-08-19 09:34:00.266 +08:00 [INF] Application is shutting down...
2020-08-19 09:34:12.219 +08:00 [INF] 程序启动
2020-08-19 09:34:12.489 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 09:34:12.665 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 09:34:12.666 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 09:34:12.666 +08:00 [INF] Hosting environment: Development
2020-08-19 09:34:12.666 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 09:34:13.287 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 09:34:13.444 +08:00 [INF] Request finished in 162.625ms 200 text/html;charset=utf-8
2020-08-19 09:34:13.582 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 09:34:13.741 +08:00 [INF] Request finished in 159.5391ms 200 application/json;charset=utf-8
2020-08-19 09:34:16.762 +08:00 [INF] Application is shutting down...
2020-08-19 09:34:29.827 +08:00 [INF] 程序启动
2020-08-19 09:34:30.086 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 09:34:30.255 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 09:34:30.256 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 09:34:30.256 +08:00 [INF] Hosting environment: Development
2020-08-19 09:34:30.256 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 09:34:30.898 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 09:34:31.019 +08:00 [INF] Request finished in 136.2219ms 200 text/html;charset=utf-8
2020-08-19 09:34:31.165 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 09:34:31.329 +08:00 [INF] Request finished in 164.3454ms 200 application/json;charset=utf-8
2020-08-19 09:34:35.193 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/ApiTokenManage/id  
2020-08-19 09:34:35.277 +08:00 [INF] Authorization failed.
2020-08-19 09:34:35.282 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2020-08-19 09:34:35.296 +08:00 [INF] Request finished in 104.0401ms 401 
2020-08-19 09:34:43.075 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/ApiTokenManage  
2020-08-19 09:34:43.094 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo)'
2020-08-19 09:34:43.134 +08:00 [INF] Route matched with {action = "Get", controller = "ApiTokenManage"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller NetCoreBaseApiDemo.Controllers.ApiTokenManageController (NetCoreBaseApiDemo).
2020-08-19 09:34:43.143 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 09:34:43.252 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 102.452ms.
2020-08-19 09:34:43.260 +08:00 [INF] Executing ObjectResult, writing value of type 'NetCoreBaseDemo.Core.Models.BaseResutlData'.
2020-08-19 09:34:43.270 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo) in 130.3422ms
2020-08-19 09:34:43.271 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.ApiTokenManageController.Get (NetCoreBaseApiDemo)'
2020-08-19 09:34:43.274 +08:00 [INF] Request finished in 199.0059ms 200 application/json; charset=utf-8
2020-08-19 09:41:46.699 +08:00 [INF] Application is shutting down...
2020-08-19 11:08:50.936 +08:00 [INF] 程序启动
2020-08-19 11:08:52.645 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:08:53.599 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:08:53.600 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:08:53.600 +08:00 [INF] Hosting environment: Development
2020-08-19 11:08:53.600 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:08:54.321 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:08:55.181 +08:00 [INF] Request finished in 861.1296ms 200 text/html;charset=utf-8
2020-08-19 11:08:55.580 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:08:55.753 +08:00 [INF] Request finished in 173.2471ms 200 application/json;charset=utf-8
2020-08-19 11:09:07.607 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysAccount application/json 241
2020-08-19 11:09:07.733 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:09:07.735 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:09:08.328 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:09:08.437 +08:00 [INF] Route matched with {action = "Post", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysAccount) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 11:09:08.500 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) in 45.3847ms
2020-08-19 11:09:08.516 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:09:08.528 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating NetCoreBaseDemo.Service.SysAccountService.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'NetCoreBaseDemo.Service.SysAccountService' can be invoked with the available services and parameters:
Cannot resolve parameter 'AutoMapper.IMapper mapper' of constructor 'Void .ctor(NetCoreBaseDemo.IRepository.ISysAccountRepository, AutoMapper.IMapper)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.CreateInstance(IEnumerable`1 parameters)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.CreateInstance(IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.<Execute>b__8_0()
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid id, Func`1 creator)
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid primaryId, Nullable`1 qualifyingId, Func`1 creator)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-19 11:09:08.918 +08:00 [INF] Request finished in 1311.3283ms 500 text/plain
2020-08-19 11:09:54.409 +08:00 [INF] Application is shutting down...
2020-08-19 11:09:57.041 +08:00 [INF] 程序启动
2020-08-19 11:09:57.300 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:09:57.458 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:09:57.459 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:09:57.459 +08:00 [INF] Hosting environment: Development
2020-08-19 11:09:57.459 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:09:58.059 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:09:58.779 +08:00 [INF] Request finished in 723.3114ms 200 text/html;charset=utf-8
2020-08-19 11:09:58.943 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:09:59.093 +08:00 [INF] Request finished in 150.5341ms 200 application/json;charset=utf-8
2020-08-19 11:10:05.155 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysAccount application/json 241
2020-08-19 11:10:05.180 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:10:05.181 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:10:05.206 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:10:05.240 +08:00 [INF] Route matched with {action = "Post", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysAccount) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 11:10:05.249 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) in 4.4798ms
2020-08-19 11:10:05.252 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:10:05.254 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating NetCoreBaseDemo.Service.SysAccountService.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'NetCoreBaseDemo.Service.SysAccountService' can be invoked with the available services and parameters:
Cannot resolve parameter 'AutoMapper.IMapper mapper' of constructor 'Void .ctor(NetCoreBaseDemo.IRepository.ISysAccountRepository, AutoMapper.IMapper)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.CreateInstance(IEnumerable`1 parameters)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.CreateInstance(IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.<Execute>b__8_0()
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid id, Func`1 creator)
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid primaryId, Nullable`1 qualifyingId, Func`1 creator)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-19 11:10:05.292 +08:00 [INF] Request finished in 137.6115ms 500 text/plain
2020-08-19 11:10:26.798 +08:00 [INF] Application is shutting down...
2020-08-19 11:11:36.523 +08:00 [INF] 程序启动
2020-08-19 11:11:50.225 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:11:51.372 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:11:51.373 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:11:51.374 +08:00 [INF] Hosting environment: Development
2020-08-19 11:11:51.374 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:11:54.992 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:11:55.407 +08:00 [INF] Request finished in 418.1578ms 200 text/html;charset=utf-8
2020-08-19 11:11:55.807 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:11:56.122 +08:00 [INF] Request finished in 314.9106ms 200 application/json;charset=utf-8
2020-08-19 11:12:03.212 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysAccount application/json 241
2020-08-19 11:12:03.295 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:12:03.297 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:12:03.750 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:12:03.838 +08:00 [INF] Route matched with {action = "Post", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysAccount) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 11:12:03.920 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) in 75.3881ms
2020-08-19 11:12:03.930 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:12:03.932 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating NetCoreBaseDemo.Service.SysAccountService.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'NetCoreBaseDemo.Service.SysAccountService' can be invoked with the available services and parameters:
Cannot resolve parameter 'AutoMapper.IMapper mapper' of constructor 'Void .ctor(NetCoreBaseDemo.IRepository.ISysAccountRepository, AutoMapper.IMapper)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.CreateInstance(IEnumerable`1 parameters)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.CreateInstance(IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.<Execute>b__8_0()
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid id, Func`1 creator)
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid primaryId, Nullable`1 qualifyingId, Func`1 creator)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-19 11:12:04.515 +08:00 [INF] Request finished in 1303.2225ms 500 text/plain
2020-08-19 11:12:15.192 +08:00 [INF] Application is shutting down...
2020-08-19 11:12:23.015 +08:00 [INF] 程序启动
2020-08-19 11:12:23.432 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:12:23.609 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:12:23.610 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:12:23.611 +08:00 [INF] Hosting environment: Development
2020-08-19 11:12:23.612 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:12:23.905 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:12:23.995 +08:00 [INF] Request finished in 97.4311ms 200 text/html;charset=utf-8
2020-08-19 11:12:24.125 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:12:24.246 +08:00 [INF] Request finished in 120.9207ms 200 application/json;charset=utf-8
2020-08-19 11:12:33.296 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/SysAccount/id?id=1  
2020-08-19 11:12:33.342 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo)'
2020-08-19 11:12:33.386 +08:00 [INF] Route matched with {action = "Get", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(System.String) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 11:12:33.395 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo) in 4.252ms
2020-08-19 11:12:33.399 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo)'
2020-08-19 11:12:33.403 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating NetCoreBaseDemo.Service.SysAccountService.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'NetCoreBaseDemo.Service.SysAccountService' can be invoked with the available services and parameters:
Cannot resolve parameter 'AutoMapper.IMapper mapper' of constructor 'Void .ctor(NetCoreBaseDemo.IRepository.ISysAccountRepository, AutoMapper.IMapper)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.CreateInstance(IEnumerable`1 parameters)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.CreateInstance(IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.<Execute>b__8_0()
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid id, Func`1 creator)
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid primaryId, Nullable`1 qualifyingId, Func`1 creator)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-19 11:12:33.439 +08:00 [INF] Request finished in 143.0892ms 500 text/plain
2020-08-19 11:13:16.390 +08:00 [INF] Application is shutting down...
2020-08-19 11:14:36.920 +08:00 [INF] 程序启动
2020-08-19 11:14:37.232 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:14:37.392 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:14:37.392 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:14:37.393 +08:00 [INF] Hosting environment: Development
2020-08-19 11:14:37.393 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:14:37.901 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:14:38.077 +08:00 [INF] Request finished in 179.4088ms 200 text/html;charset=utf-8
2020-08-19 11:14:38.226 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:14:38.370 +08:00 [INF] Request finished in 144.2898ms 200 application/json;charset=utf-8
2020-08-19 11:14:43.815 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/SysAccount/id?id=11  
2020-08-19 11:14:43.863 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo)'
2020-08-19 11:14:43.896 +08:00 [INF] Route matched with {action = "Get", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(System.String) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 11:14:45.905 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:14:46.543 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.NotFoundResult in 630.5793ms.
2020-08-19 11:14:46.569 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo) in 2668.4059ms
2020-08-19 11:14:46.571 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo)'
2020-08-19 11:14:46.574 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at NetCoreBaseDemo.Core.Filters.MyActionFilter.OnActionExecuted(ActionExecutedContext context) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Filters\3.MyActionFilter.cs:line 22
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-19 11:14:46.626 +08:00 [INF] Request finished in 2810.8777ms 500 text/plain
2020-08-19 11:15:01.617 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysAccount application/json 241
2020-08-19 11:15:01.622 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:15:01.623 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:15:01.626 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:15:01.629 +08:00 [INF] Route matched with {action = "Post", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysAccount) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 11:15:01.685 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:15:01.950 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) in 319.2399ms
2020-08-19 11:15:01.952 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:15:01.953 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): 不能将值 NULL 插入列 'Id'，表 'MasterDb.dbo.SysAccounts'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\dotnet\src\MiniProfiler.Shared\Data\ProfiledDbCommand.cs:line 216
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1051
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext() in /_/Dapper/SqlMapper.cs:line 1079
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 721
   at Dapper.SqlMapper.Query(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 648
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout)
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 27
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysAccountRepositoryProxy.Insert(SysAccount entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysAccountServiceProxy.Insert(SysAccount entity)
   at NetCoreBaseApiDemo.Controllers.SysAccountController.Post(SysAccount entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysAccountController.cs:line 62
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:fe5c438f-887c-41d6-b1da-a51d08685d7e
Error Number:515,State:2,Class:16
2020-08-19 11:15:02.043 +08:00 [INF] Request finished in 426.5487ms 500 text/plain
2020-08-19 11:15:20.703 +08:00 [INF] Application is shutting down...
2020-08-19 11:15:33.629 +08:00 [INF] 程序启动
2020-08-19 11:15:38.311 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:15:38.955 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:15:38.956 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:15:38.956 +08:00 [INF] Hosting environment: Development
2020-08-19 11:15:38.956 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:15:39.692 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:15:39.832 +08:00 [INF] Request finished in 143.1739ms 200 text/html;charset=utf-8
2020-08-19 11:15:39.982 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:15:40.118 +08:00 [INF] Request finished in 135.256ms 200 application/json;charset=utf-8
2020-08-19 11:15:45.650 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysAccount application/json 241
2020-08-19 11:15:45.688 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:15:45.688 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:15:45.768 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:15:45.818 +08:00 [INF] Route matched with {action = "Post", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysAccount) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 11:15:47.177 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:20:22.040 +08:00 [INF] 程序启动
2020-08-19 11:20:22.286 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:20:22.449 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:20:22.450 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:20:22.450 +08:00 [INF] Hosting environment: Development
2020-08-19 11:20:22.451 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:20:23.002 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:20:23.133 +08:00 [INF] Request finished in 138.5857ms 200 text/html;charset=utf-8
2020-08-19 11:20:23.429 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:20:23.668 +08:00 [INF] Request finished in 239.8843ms 200 application/json;charset=utf-8
2020-08-19 11:20:27.806 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysAccount application/json 246
2020-08-19 11:20:27.828 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:20:27.829 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:20:27.929 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:20:27.965 +08:00 [INF] Route matched with {action = "Post", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysAccount) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 11:20:28.921 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:20:29.267 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) in 1297.3083ms
2020-08-19 11:20:29.269 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:20:29.269 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): 不能将值 NULL 插入列 'Id'，表 'MasterDb.dbo.SysAccounts'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\dotnet\src\MiniProfiler.Shared\Data\ProfiledDbCommand.cs:line 216
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1051
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext() in /_/Dapper/SqlMapper.cs:line 1079
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 721
   at Dapper.SqlMapper.Query(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 648
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout)
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 27
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysAccountRepositoryProxy.Insert(SysAccount entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysAccountServiceProxy.Insert(SysAccount entity)
   at NetCoreBaseApiDemo.Controllers.SysAccountController.Post(SysAccount entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysAccountController.cs:line 63
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:8c02bad4-a803-471f-a5c7-725818cbdd35
Error Number:515,State:2,Class:16
2020-08-19 11:20:29.677 +08:00 [INF] Request finished in 1871.8338ms 500 text/plain
2020-08-19 11:21:12.367 +08:00 [INF] Application is shutting down...
2020-08-19 11:22:07.874 +08:00 [INF] 程序启动
2020-08-19 11:22:14.756 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:22:15.478 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:22:15.479 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:22:15.479 +08:00 [INF] Hosting environment: Development
2020-08-19 11:22:15.480 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:22:18.891 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:22:19.401 +08:00 [INF] Request finished in 514.2855ms 200 text/html;charset=utf-8
2020-08-19 11:22:19.853 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:22:20.013 +08:00 [INF] Request finished in 159.9642ms 200 application/json;charset=utf-8
2020-08-19 11:22:24.436 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysAccount application/json 246
2020-08-19 11:22:24.620 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:22:24.621 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:22:24.870 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:22:25.091 +08:00 [INF] Route matched with {action = "Post", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysAccount) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 11:22:27.414 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:23:35.181 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) in 70084.5396ms
2020-08-19 11:23:35.193 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:23:35.205 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): 不能将值 NULL 插入列 'Id'，表 'MasterDb.dbo.SysAccounts'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\dotnet\src\MiniProfiler.Shared\Data\ProfiledDbCommand.cs:line 216
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1051
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext() in /_/Dapper/SqlMapper.cs:line 1079
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 721
   at Dapper.SqlMapper.Query(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 648
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout)
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 27
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysAccountRepositoryProxy.Insert(SysAccount entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysAccountServiceProxy.Insert(SysAccount entity)
   at NetCoreBaseApiDemo.Controllers.SysAccountController.Post(SysAccount entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysAccountController.cs:line 63
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:d9afcd98-68ad-4c02-bf17-e764aefb1dff
Error Number:515,State:2,Class:16
2020-08-19 11:23:35.754 +08:00 [INF] Request finished in 71318.9457ms 500 text/plain
2020-08-19 11:23:43.203 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/SysAccount/id?id=1  
2020-08-19 11:23:43.209 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo)'
2020-08-19 11:23:43.257 +08:00 [INF] Route matched with {action = "Get", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(System.String) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 11:23:43.299 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:23:43.471 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 157.4501ms.
2020-08-19 11:23:46.895 +08:00 [INF] Executing ObjectResult, writing value of type 'NetCoreBaseDemo.Core.Models.BaseResutlData'.
2020-08-19 11:23:46.969 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo) in 3710.4455ms
2020-08-19 11:23:46.971 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo)'
2020-08-19 11:23:47.007 +08:00 [INF] Request finished in 3804.2584ms 200 application/json; charset=utf-8
2020-08-19 11:26:29.825 +08:00 [INF] 程序启动
2020-08-19 11:26:30.252 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:26:30.472 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:26:30.473 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:26:30.473 +08:00 [INF] Hosting environment: Development
2020-08-19 11:26:30.474 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:26:31.008 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:26:31.143 +08:00 [INF] Request finished in 139.3085ms 200 text/html;charset=utf-8
2020-08-19 11:26:32.206 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:26:32.318 +08:00 [INF] Request finished in 112.9185ms 200 application/json;charset=utf-8
2020-08-19 11:26:40.029 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysAccount application/json 276
2020-08-19 11:26:40.054 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:26:40.055 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:26:40.099 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:26:40.135 +08:00 [INF] Route matched with {action = "Post", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysAccount) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 11:26:40.659 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:26:41.027 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) in 887.3281ms
2020-08-19 11:26:41.029 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:26:41.031 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): INSERT 语句与 FOREIGN KEY 约束"FK_SYSACCOU_REFERENCE_SYSDEPAR"冲突。该冲突发生于数据库"MasterDb"，表"dbo.SysDepartments", column 'Id'。
语句已终止。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\dotnet\src\MiniProfiler.Shared\Data\ProfiledDbCommand.cs:line 216
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1051
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext() in /_/Dapper/SqlMapper.cs:line 1079
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 721
   at Dapper.SqlMapper.Query(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 648
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout)
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 27
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysAccountRepositoryProxy.Insert(SysAccount entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysAccountServiceProxy.Insert(SysAccount entity)
   at NetCoreBaseApiDemo.Controllers.SysAccountController.Post(SysAccount entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysAccountController.cs:line 63
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:b7c148a0-5d4c-4c84-b236-23d060c583c5
Error Number:547,State:0,Class:16
2020-08-19 11:26:41.502 +08:00 [INF] Request finished in 1472.8996ms 500 text/plain
2020-08-19 11:27:10.585 +08:00 [INF] Application is shutting down...
2020-08-19 11:32:36.001 +08:00 [INF] 程序启动
2020-08-19 11:32:36.269 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:32:36.433 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:32:36.433 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:32:36.434 +08:00 [INF] Hosting environment: Development
2020-08-19 11:32:36.434 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:32:36.962 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:32:37.090 +08:00 [INF] Request finished in 131.5514ms 200 text/html;charset=utf-8
2020-08-19 11:32:37.424 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:32:37.618 +08:00 [INF] Request finished in 194.1703ms 200 application/json;charset=utf-8
2020-08-19 11:33:16.791 +08:00 [INF] Application is shutting down...
2020-08-19 11:33:25.627 +08:00 [INF] 程序启动
2020-08-19 11:33:25.883 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:33:26.049 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:33:26.049 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:33:26.050 +08:00 [INF] Hosting environment: Development
2020-08-19 11:33:26.050 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:33:26.609 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:33:26.761 +08:00 [INF] Request finished in 154.9968ms 200 text/html;charset=utf-8
2020-08-19 11:33:26.913 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:33:27.061 +08:00 [INF] Request finished in 148.4295ms 200 application/json;charset=utf-8
2020-08-19 11:33:38.071 +08:00 [INF] Application is shutting down...
2020-08-19 11:33:53.771 +08:00 [INF] 程序启动
2020-08-19 11:33:54.021 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:33:54.185 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:33:54.186 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:33:54.186 +08:00 [INF] Hosting environment: Development
2020-08-19 11:33:54.187 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:33:54.862 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:33:54.974 +08:00 [INF] Request finished in 123.0311ms 200 text/html;charset=utf-8
2020-08-19 11:33:55.127 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:33:55.316 +08:00 [INF] Request finished in 189.0991ms 200 application/json;charset=utf-8
2020-08-19 11:34:07.538 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 120
2020-08-19 11:34:07.566 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:34:07.567 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:34:07.595 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:34:07.631 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 11:34:08.157 +08:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-08-19 11:34:08.175 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 538.1842ms
2020-08-19 11:34:08.178 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:34:08.210 +08:00 [INF] Request finished in 671.7091ms 400 application/problem+json; charset=utf-8
2020-08-19 11:34:50.465 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 130
2020-08-19 11:34:50.470 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:34:50.471 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:34:50.472 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:34:50.474 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 11:34:50.488 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:34:50.667 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 191.3566ms
2020-08-19 11:34:50.670 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:34:50.671 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): 不能将值 NULL 插入列 'Id'，表 'MasterDb.dbo.SysDepartments'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\dotnet\src\MiniProfiler.Shared\Data\ProfiledDbCommand.cs:line 216
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1051
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext() in /_/Dapper/SqlMapper.cs:line 1079
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 721
   at Dapper.SqlMapper.Query(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 648
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout)
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 27
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentRepositoryProxy.Insert(SysDepartment entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentServiceProxy.Insert(SysDepartment entity)
   at NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post(SysDepartment entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysDepartmentController.cs:line 58
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:a8ce8d6d-8758-4376-a3a1-dfc4babff177
Error Number:515,State:2,Class:16
2020-08-19 11:34:50.813 +08:00 [INF] Request finished in 347.4158ms 500 text/plain
2020-08-19 11:36:43.065 +08:00 [INF] 程序启动
2020-08-19 11:36:43.352 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:36:43.513 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:36:43.514 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:36:43.514 +08:00 [INF] Hosting environment: Development
2020-08-19 11:36:43.515 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:36:44.109 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:36:44.197 +08:00 [INF] Request finished in 95.1366ms 200 text/html;charset=utf-8
2020-08-19 11:36:44.387 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:36:44.528 +08:00 [INF] Request finished in 141.5154ms 200 application/json;charset=utf-8
2020-08-19 11:36:54.406 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 157
2020-08-19 11:36:54.434 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:36:54.435 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:36:54.474 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:36:54.509 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 11:36:55.031 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:36:55.317 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 277.3172ms.
2020-08-19 11:36:55.322 +08:00 [INF] Executing ObjectResult, writing value of type 'NetCoreBaseDemo.Core.Models.BaseResutlData'.
2020-08-19 11:36:55.342 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 827.1599ms
2020-08-19 11:36:55.344 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:36:55.356 +08:00 [INF] Request finished in 950.7458ms 200 application/json; charset=utf-8
2020-08-19 11:37:18.597 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/SysDepartment/id?id=3fa85f64-5717-4562-b3fc-2c963f66afa6  
2020-08-19 11:37:18.606 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo)'
2020-08-19 11:37:18.611 +08:00 [INF] Route matched with {action = "Get", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(System.Guid) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 11:37:18.620 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:37:18.780 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo) in 166.3964ms
2020-08-19 11:37:18.783 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo)'
2020-08-19 11:37:18.784 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.DataException: Error parsing column 0 (Id=3FA85F64-5717-4562-B3FC-2C963F66AFA6 - String)
 ---> System.InvalidCastException: Invalid cast from 'System.String' to 'System.Guid'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at System.String.System.IConvertible.ToType(Type type, IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Deserializeb5a9a611-e906-4b4e-b8a0-79d45663bfb0(IDataReader )
   --- End of inner exception stack trace ---
   at NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get(Guid id) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysDepartmentController.cs:line 47
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-19 11:37:18.926 +08:00 [INF] Request finished in 329.6074ms 500 text/plain
2020-08-19 11:38:16.648 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/SysDepartment/id?id=3fa85f64-5717-4562-b3fc-2c963f66afa6  
2020-08-19 11:38:16.654 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo)'
2020-08-19 11:38:16.655 +08:00 [INF] Route matched with {action = "Get", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(System.Guid) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 11:38:16.659 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:38:16.664 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo) in 7.5466ms
2020-08-19 11:38:16.665 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo)'
2020-08-19 11:38:16.666 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.DataException: Error parsing column 0 (Id=3FA85F64-5717-4562-B3FC-2C963F66AFA6 - String)
 ---> System.InvalidCastException: Invalid cast from 'System.String' to 'System.Guid'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at System.String.System.IConvertible.ToType(Type type, IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Deserializeb5a9a611-e906-4b4e-b8a0-79d45663bfb0(IDataReader )
   --- End of inner exception stack trace ---
   at NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get(Guid id) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysDepartmentController.cs:line 47
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-19 11:38:16.679 +08:00 [INF] Request finished in 31.0283ms 500 text/plain
2020-08-19 11:38:28.648 +08:00 [INF] Application is shutting down...
2020-08-19 11:39:07.802 +08:00 [INF] 程序启动
2020-08-19 11:39:08.053 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:39:08.223 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:39:08.224 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:39:08.224 +08:00 [INF] Hosting environment: Development
2020-08-19 11:39:08.224 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:39:08.765 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:39:08.904 +08:00 [INF] Request finished in 141.9876ms 200 text/html;charset=utf-8
2020-08-19 11:39:09.426 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:39:09.584 +08:00 [INF] Request finished in 157.4339ms 200 application/json;charset=utf-8
2020-08-19 11:39:54.218 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/SysDepartment/id?id=3FA85F64-5717-4562-B3FC-2C963F66AFA6  
2020-08-19 11:39:54.270 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo)'
2020-08-19 11:39:54.305 +08:00 [INF] Route matched with {action = "Get", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(System.String) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 11:39:54.790 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:39:54.973 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo) in 663.3781ms
2020-08-19 11:39:54.974 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo)'
2020-08-19 11:39:54.977 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.DataException: Error parsing column 0 (Id=3FA85F64-5717-4562-B3FC-2C963F66AFA6 - String)
 ---> System.InvalidCastException: Invalid cast from 'System.String' to 'System.Guid'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at System.String.System.IConvertible.ToType(Type type, IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Deserialize49454c9a-b522-4431-b8b1-b7baa0bc9797(IDataReader )
   --- End of inner exception stack trace ---
   at NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get(String id) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysDepartmentController.cs:line 48
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-19 11:39:55.096 +08:00 [INF] Request finished in 877.8261ms 500 text/plain
2020-08-19 11:40:05.912 +08:00 [INF] Application is shutting down...
2020-08-19 11:40:44.489 +08:00 [INF] 程序启动
2020-08-19 11:40:44.751 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:40:44.914 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:40:44.915 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:40:44.915 +08:00 [INF] Hosting environment: Development
2020-08-19 11:40:44.915 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:40:45.491 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:40:45.644 +08:00 [INF] Request finished in 157.9551ms 200 text/html;charset=utf-8
2020-08-19 11:40:46.413 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:40:46.574 +08:00 [INF] Request finished in 161.2919ms 200 application/json;charset=utf-8
2020-08-19 11:41:04.378 +08:00 [INF] 程序启动
2020-08-19 11:41:04.640 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:41:04.805 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:41:04.806 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:41:04.806 +08:00 [INF] Hosting environment: Development
2020-08-19 11:41:04.806 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:41:05.374 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:41:05.554 +08:00 [INF] Request finished in 183.8798ms 200 text/html;charset=utf-8
2020-08-19 11:41:05.668 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:41:05.804 +08:00 [INF] Request finished in 136.1008ms 200 application/json;charset=utf-8
2020-08-19 11:41:14.888 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/SysDepartment/3FA85F64-5717-4562-B3FC-2C963F66AFA6  
2020-08-19 11:41:14.937 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo)'
2020-08-19 11:41:14.969 +08:00 [INF] Route matched with {action = "Get", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(System.String) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 11:41:15.443 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:41:15.614 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo) in 639.0569ms
2020-08-19 11:41:15.616 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo)'
2020-08-19 11:41:15.618 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.DataException: Error parsing column 0 (Id=3FA85F64-5717-4562-B3FC-2C963F66AFA6 - String)
 ---> System.InvalidCastException: Invalid cast from 'System.String' to 'System.Guid'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at System.String.System.IConvertible.ToType(Type type, IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Deserialize2d108354-3a6c-4c33-9157-e24206bc686d(IDataReader )
   --- End of inner exception stack trace ---
   at NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get(String id) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysDepartmentController.cs:line 48
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-19 11:41:15.802 +08:00 [INF] Request finished in 914.6692ms 500 text/plain
2020-08-19 11:41:28.256 +08:00 [INF] Application is shutting down...
2020-08-19 11:41:42.827 +08:00 [INF] 程序启动
2020-08-19 11:41:50.935 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:41:52.658 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:41:52.659 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:41:52.659 +08:00 [INF] Hosting environment: Development
2020-08-19 11:41:52.659 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:41:55.696 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:41:56.074 +08:00 [INF] Request finished in 381.7527ms 200 text/html;charset=utf-8
2020-08-19 11:41:56.290 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:41:56.597 +08:00 [INF] Request finished in 307.0044ms 200 application/json;charset=utf-8
2020-08-19 11:42:23.831 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/SysDepartment/3FA85F64-5717-4562-B3FC-2C963F66AFA6  
2020-08-19 11:42:24.565 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo)'
2020-08-19 11:42:24.799 +08:00 [INF] Route matched with {action = "Get", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(System.String) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 11:42:26.969 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:45:43.354 +08:00 [INF] 程序启动
2020-08-19 11:45:43.631 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:45:43.793 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:45:43.794 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:45:43.794 +08:00 [INF] Hosting environment: Development
2020-08-19 11:45:43.794 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:45:44.326 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:45:44.475 +08:00 [INF] Request finished in 154.846ms 200 text/html;charset=utf-8
2020-08-19 11:45:44.592 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:45:44.739 +08:00 [INF] Request finished in 146.7756ms 200 application/json;charset=utf-8
2020-08-19 11:45:58.536 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 152
2020-08-19 11:45:58.567 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:45:58.568 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:45:58.597 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:45:58.632 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 11:45:59.186 +08:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-08-19 11:45:59.227 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 590.408ms
2020-08-19 11:45:59.230 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:45:59.249 +08:00 [INF] Request finished in 713.8046ms 400 application/problem+json; charset=utf-8
2020-08-19 11:46:07.853 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 157
2020-08-19 11:46:07.856 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:46:07.856 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:46:07.857 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:46:07.858 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 11:46:07.873 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:46:08.291 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 431.4325ms
2020-08-19 11:46:08.293 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:46:08.294 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): 违反了 PRIMARY KEY 约束 'PK_SYSDEPARTMENTS'。不能在对象 'dbo.SysDepartments' 中插入重复键。
语句已终止。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\dotnet\src\MiniProfiler.Shared\Data\ProfiledDbCommand.cs:line 216
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1051
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext() in /_/Dapper/SqlMapper.cs:line 1079
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 721
   at Dapper.SqlMapper.Query(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 648
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout)
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 27
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentRepositoryProxy.Insert(SysDepartment entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentServiceProxy.Insert(SysDepartment entity)
   at NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post(SysDepartment entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysDepartmentController.cs:line 57
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:c3865b56-1f7f-402c-ab9c-38d3cc65cba6
Error Number:2627,State:1,Class:14
2020-08-19 11:46:08.706 +08:00 [INF] Request finished in 852.8731ms 500 text/plain
2020-08-19 11:46:19.627 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 157
2020-08-19 11:46:19.631 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:46:19.632 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:46:19.634 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:46:19.636 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 11:46:19.647 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:46:19.765 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 125.2517ms
2020-08-19 11:46:19.767 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:46:19.767 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidCastException: Unable to cast object of type 'System.Guid' to type 'System.String'.
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout)
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 27
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentRepositoryProxy.Insert(SysDepartment entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentServiceProxy.Insert(SysDepartment entity)
   at NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post(SysDepartment entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysDepartmentController.cs:line 57
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-19 11:46:19.780 +08:00 [INF] Request finished in 153.0573ms 500 text/plain
2020-08-19 11:46:27.280 +08:00 [INF] Application is shutting down...
2020-08-19 11:47:37.083 +08:00 [INF] 程序启动
2020-08-19 11:47:37.372 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:47:37.535 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:47:37.535 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:47:37.536 +08:00 [INF] Hosting environment: Development
2020-08-19 11:47:37.536 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:47:38.107 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:47:38.344 +08:00 [INF] Request finished in 244.5668ms 200 text/html;charset=utf-8
2020-08-19 11:47:38.675 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:47:38.843 +08:00 [INF] Request finished in 168.2555ms 200 application/json;charset=utf-8
2020-08-19 11:47:46.392 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 128
2020-08-19 11:47:46.421 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:47:46.422 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:47:46.447 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:47:46.482 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 11:47:46.961 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:47:47.125 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 638.3809ms
2020-08-19 11:47:47.127 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:47:47.128 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): 不能将值 NULL 插入列 'Id'，表 'MasterDb.dbo.SysDepartments'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\dotnet\src\MiniProfiler.Shared\Data\ProfiledDbCommand.cs:line 216
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1051
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext() in /_/Dapper/SqlMapper.cs:line 1079
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 721
   at Dapper.SqlMapper.Query(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 648
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout)
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 27
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentRepositoryProxy.Insert(SysDepartment entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentServiceProxy.Insert(SysDepartment entity)
   at NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post(SysDepartment entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysDepartmentController.cs:line 58
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:580edd9b-da52-4f88-89cd-5a591a302987
Error Number:515,State:2,Class:16
2020-08-19 11:47:47.189 +08:00 [INF] Request finished in 796.6031ms 500 text/plain
2020-08-19 11:47:59.248 +08:00 [INF] Application is shutting down...
2020-08-19 11:50:24.098 +08:00 [INF] 程序启动
2020-08-19 11:50:30.691 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:50:31.218 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:50:31.220 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:50:31.221 +08:00 [INF] Hosting environment: Development
2020-08-19 11:50:31.221 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:50:32.936 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:50:33.073 +08:00 [INF] Request finished in 141.2241ms 200 text/html;charset=utf-8
2020-08-19 11:50:33.577 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:50:33.784 +08:00 [INF] Request finished in 207.0735ms 200 application/json;charset=utf-8
2020-08-19 11:50:44.224 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 128
2020-08-19 11:50:44.259 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:50:44.261 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:50:44.435 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:50:44.481 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 11:50:45.654 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:51:05.477 +08:00 [INF] 程序启动
2020-08-19 11:51:09.334 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:51:09.756 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:51:09.773 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:51:09.773 +08:00 [INF] Hosting environment: Development
2020-08-19 11:51:09.774 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:51:10.533 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:51:10.696 +08:00 [INF] Request finished in 169.1787ms 200 text/html;charset=utf-8
2020-08-19 11:51:11.090 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:51:11.221 +08:00 [INF] Request finished in 131.128ms 200 application/json;charset=utf-8
2020-08-19 11:51:31.187 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 126
2020-08-19 11:51:31.219 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:51:31.220 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:51:31.290 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:51:31.328 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 11:51:32.210 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:54:47.007 +08:00 [INF] 程序启动
2020-08-19 11:54:47.247 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 11:54:47.407 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 11:54:47.408 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 11:54:47.408 +08:00 [INF] Hosting environment: Development
2020-08-19 11:54:47.408 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 11:54:47.913 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:54:48.014 +08:00 [INF] Request finished in 102.8184ms 200 text/html;charset=utf-8
2020-08-19 11:54:48.148 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:54:48.246 +08:00 [INF] Request finished in 98.1852ms 200 application/json;charset=utf-8
2020-08-19 11:58:16.020 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysAccount application/json 232
2020-08-19 11:58:16.044 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:58:16.045 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:58:16.071 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:58:16.107 +08:00 [INF] Route matched with {action = "Post", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysAccount) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 11:58:16.567 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:58:16.734 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) in 622.0083ms
2020-08-19 11:58:16.736 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:58:16.738 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): INSERT 语句与 FOREIGN KEY 约束"FK_SYSACCOU_REFERENCE_SYSDEPAR"冲突。该冲突发生于数据库"MasterDb"，表"dbo.SysDepartments", column 'Id'。
语句已终止。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\dotnet\src\MiniProfiler.Shared\Data\ProfiledDbCommand.cs:line 216
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1051
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext() in /_/Dapper/SqlMapper.cs:line 1079
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 721
   at Dapper.SqlMapper.Query(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 648
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout)
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 27
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysAccountRepositoryProxy.Insert(SysAccount entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysAccountServiceProxy.Insert(SysAccount entity)
   at NetCoreBaseApiDemo.Controllers.SysAccountController.Post(SysAccount entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysAccountController.cs:line 63
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:f369c59c-9bda-46c2-9be4-8ed15c9d60f1
Error Number:547,State:0,Class:16
2020-08-19 11:58:16.795 +08:00 [INF] Request finished in 775.6842ms 500 text/plain
2020-08-19 11:58:38.626 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysAccount application/json 262
2020-08-19 11:58:38.635 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:58:38.636 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:58:38.637 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:58:38.638 +08:00 [INF] Route matched with {action = "Post", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysAccount) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 11:58:38.646 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:58:38.773 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 122.3582ms.
2020-08-19 11:58:38.779 +08:00 [INF] Executing ObjectResult, writing value of type 'NetCoreBaseDemo.Core.Models.BaseResutlData'.
2020-08-19 11:58:38.815 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) in 174.767ms
2020-08-19 11:58:38.816 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:58:38.826 +08:00 [INF] Request finished in 200.1107ms 200 application/json; charset=utf-8
2020-08-19 11:59:05.037 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 11:59:05.042 +08:00 [INF] Request finished in 4.6962ms 200 text/html;charset=utf-8
2020-08-19 11:59:05.172 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 11:59:05.184 +08:00 [INF] Request finished in 11.71ms 200 application/json;charset=utf-8
2020-08-19 11:59:05.231 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon-32x32.png  
2020-08-19 11:59:05.349 +08:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2020-08-19 11:59:05.351 +08:00 [INF] Request finished in 120.247ms 200 image/png
2020-08-19 11:59:20.428 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 122
2020-08-19 11:59:20.436 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:59:20.437 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:59:20.439 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:59:20.443 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 11:59:20.463 +08:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-08-19 11:59:20.464 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 19.1597ms
2020-08-19 11:59:20.466 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:59:20.468 +08:00 [INF] Request finished in 39.871ms 400 application/problem+json; charset=utf-8
2020-08-19 11:59:28.279 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 128
2020-08-19 11:59:28.281 +08:00 [INF] CORS policy execution failed.
2020-08-19 11:59:28.281 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 11:59:28.282 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:59:28.283 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 11:59:28.288 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 11:59:28.298 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 13.4309ms
2020-08-19 11:59:28.300 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 11:59:28.301 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): 不能将值 NULL 插入列 'Id'，表 'MasterDb.dbo.SysDepartments'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\dotnet\src\MiniProfiler.Shared\Data\ProfiledDbCommand.cs:line 216
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1051
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext() in /_/Dapper/SqlMapper.cs:line 1079
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 721
   at Dapper.SqlMapper.Query(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 648
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout)
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 27
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert_1.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentRepositoryProxy.Insert(SysDepartment entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert_1.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentServiceProxy.Insert(SysDepartment entity)
   at NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post(SysDepartment entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysDepartmentController.cs:line 58
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:f369c59c-9bda-46c2-9be4-8ed15c9d60f1
Error Number:515,State:2,Class:16
2020-08-19 11:59:28.315 +08:00 [INF] Request finished in 36.2528ms 500 text/plain
2020-08-19 12:01:11.731 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/SysAccount/id?id=9A314B7C-2989-4A38-900A-19AD490D30D5  
2020-08-19 12:01:11.740 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo)'
2020-08-19 12:01:11.745 +08:00 [INF] Route matched with {action = "Get", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(System.String) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 12:01:11.762 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 12:01:11.921 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo) in 174.5917ms
2020-08-19 12:01:11.923 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo)'
2020-08-19 12:01:11.923 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): 将字符串转换为 uniqueidentifier 时失败。
   at NetCoreBaseApiDemo.Controllers.SysAccountController.Get(String id) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysAccountController.cs:line 52
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:f369c59c-9bda-46c2-9be4-8ed15c9d60f1
Error Number:8169,State:2,Class:16
2020-08-19 12:01:11.930 +08:00 [INF] Request finished in 198.9694ms 500 text/plain
2020-08-19 12:23:37.878 +08:00 [INF] Application is shutting down...
2020-08-19 12:24:54.346 +08:00 [INF] 程序启动
2020-08-19 12:24:54.722 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 12:24:54.935 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 12:24:54.938 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 12:24:54.939 +08:00 [INF] Hosting environment: Development
2020-08-19 12:24:54.940 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 12:24:55.426 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 12:24:56.334 +08:00 [INF] Request finished in 918.3832ms 200 text/html;charset=utf-8
2020-08-19 12:24:58.092 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 12:24:58.180 +08:00 [INF] Request finished in 87.4927ms 200 application/json;charset=utf-8
2020-08-19 12:25:03.656 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/SysAccount/id?id=9A314B7C-2989-4A38-900A-19AD490D30D5  
2020-08-19 12:25:03.805 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo)'
2020-08-19 12:25:03.840 +08:00 [INF] Route matched with {action = "Get", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(System.String) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 12:25:04.816 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 12:25:05.122 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo) in 1276.329ms
2020-08-19 12:25:05.124 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo)'
2020-08-19 12:25:05.126 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): 将字符串转换为 uniqueidentifier 时失败。
   at NetCoreBaseApiDemo.Controllers.SysAccountController.Get(String id) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysAccountController.cs:line 52
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:1b946e5a-57ac-4df7-808b-84a7d08a1f17
Error Number:8169,State:2,Class:16
2020-08-19 12:25:05.602 +08:00 [INF] Request finished in 1946.8576ms 500 text/plain
2020-08-19 13:31:00.517 +08:00 [INF] Application is shutting down...
2020-08-19 13:33:23.910 +08:00 [INF] 程序启动
2020-08-19 13:33:24.149 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 13:33:24.313 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 13:33:24.314 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 13:33:24.314 +08:00 [INF] Hosting environment: Development
2020-08-19 13:33:24.315 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 13:33:24.825 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 13:33:25.113 +08:00 [INF] Request finished in 290.9303ms 200 text/html;charset=utf-8
2020-08-19 13:33:25.312 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 13:33:25.501 +08:00 [INF] Request finished in 190.6165ms 200 application/json;charset=utf-8
2020-08-19 13:33:31.851 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/SysAccount/id?id=1  
2020-08-19 13:33:31.893 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo)'
2020-08-19 13:33:31.935 +08:00 [INF] Route matched with {action = "Get", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(System.String) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 13:33:32.359 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 13:33:32.382 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo) in 440.6413ms
2020-08-19 13:33:32.383 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Get (NetCoreBaseApiDemo)'
2020-08-19 13:33:32.386 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).
   at NetCoreBaseApiDemo.Controllers.SysAccountController.Get(String id) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysAccountController.cs:line 52
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-19 13:33:32.417 +08:00 [INF] Request finished in 565.8449ms 500 text/plain
2020-08-19 13:34:45.814 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/SysDepartment/3FA85F64-5717-4562-B3FC-2C963F66AFA6  
2020-08-19 13:34:45.820 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo)'
2020-08-19 13:34:45.825 +08:00 [INF] Route matched with {action = "Get", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(System.String) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 13:34:45.837 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 13:34:46.044 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 201.0738ms.
2020-08-19 13:34:46.050 +08:00 [INF] Executing ObjectResult, writing value of type 'NetCoreBaseDemo.Core.Models.BaseResutlData'.
2020-08-19 13:34:46.084 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo) in 257.058ms
2020-08-19 13:34:46.086 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo)'
2020-08-19 13:34:46.097 +08:00 [INF] Request finished in 283.4318ms 200 application/json; charset=utf-8
2020-08-19 13:35:27.734 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 127
2020-08-19 13:35:27.738 +08:00 [INF] CORS policy execution failed.
2020-08-19 13:35:27.739 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 13:35:27.742 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 13:35:27.746 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 13:35:27.764 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 13:35:27.797 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 49.0069ms
2020-08-19 13:35:27.799 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 13:35:27.800 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): 不能将值 NULL 插入列 'Id'，表 'MasterDb.dbo.SysDepartments'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\dotnet\src\MiniProfiler.Shared\Data\ProfiledDbCommand.cs:line 216
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1051
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext() in /_/Dapper/SqlMapper.cs:line 1079
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 721
   at Dapper.SqlMapper.Query(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 648
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout)
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 27
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert_1.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentRepositoryProxy.Insert(SysDepartment entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert_1.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentServiceProxy.Insert(SysDepartment entity)
   at NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post(SysDepartment entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysDepartmentController.cs:line 58
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:08624b5e-0526-4a6b-96e6-2301bdda0a23
Error Number:515,State:2,Class:16
2020-08-19 13:35:28.085 +08:00 [INF] Request finished in 351.4086ms 500 text/plain
2020-08-19 13:36:42.219 +08:00 [INF] 程序启动
2020-08-19 13:36:42.497 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 13:36:42.659 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 13:36:42.660 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 13:36:42.660 +08:00 [INF] Hosting environment: Development
2020-08-19 13:36:42.660 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 13:36:43.203 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 13:36:43.345 +08:00 [INF] Request finished in 147.8958ms 200 text/html;charset=utf-8
2020-08-19 13:36:43.474 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 13:36:43.603 +08:00 [INF] Request finished in 129.039ms 200 application/json;charset=utf-8
2020-08-19 13:36:54.943 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 112
2020-08-19 13:36:54.971 +08:00 [INF] CORS policy execution failed.
2020-08-19 13:36:54.972 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 13:36:54.997 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 13:36:55.031 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 13:36:55.498 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 13:36:55.648 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 612.5215ms
2020-08-19 13:36:55.650 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 13:36:55.651 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): 不能将值 NULL 插入列 'Id'，表 'MasterDb.dbo.SysDepartments'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\dotnet\src\MiniProfiler.Shared\Data\ProfiledDbCommand.cs:line 216
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1051
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext() in /_/Dapper/SqlMapper.cs:line 1079
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 721
   at Dapper.SqlMapper.Query(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 648
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout)
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 27
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentRepositoryProxy.Insert(SysDepartment entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentServiceProxy.Insert(SysDepartment entity)
   at NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post(SysDepartment entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysDepartmentController.cs:line 57
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:524769a6-3387-489d-a355-5778e2e9e99f
Error Number:515,State:2,Class:16
2020-08-19 13:36:55.719 +08:00 [INF] Request finished in 776.2915ms 500 text/plain
2020-08-19 13:37:43.606 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/SysDepartment/3FA85F64-5717-4562-B3FC-2C963F66AFA5  
2020-08-19 13:37:43.616 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo)'
2020-08-19 13:37:43.620 +08:00 [INF] Route matched with {action = "Get", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(System.String) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 13:37:43.627 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 13:37:43.685 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 52.3657ms.
2020-08-19 13:37:43.693 +08:00 [INF] Executing ObjectResult, writing value of type 'NetCoreBaseDemo.Core.Models.BaseResutlData'.
2020-08-19 13:37:43.699 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo) in 76.0677ms
2020-08-19 13:37:43.701 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo)'
2020-08-19 13:37:43.711 +08:00 [INF] Request finished in 105.916ms 200 application/json; charset=utf-8
2020-08-19 13:46:20.493 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 13:46:20.502 +08:00 [INF] Request finished in 9.2059ms 200 text/html;charset=utf-8
2020-08-19 13:46:20.782 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 13:46:20.801 +08:00 [INF] Request finished in 19.8246ms 200 application/json;charset=utf-8
2020-08-19 13:46:29.802 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 127
2020-08-19 13:46:29.804 +08:00 [INF] CORS policy execution failed.
2020-08-19 13:46:29.805 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 13:46:29.806 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 13:46:29.808 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 13:46:29.830 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 13:46:29.835 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 23.7379ms
2020-08-19 13:46:29.836 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 13:46:29.836 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): 不能将值 NULL 插入列 'Id'，表 'MasterDb.dbo.SysDepartments'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\dotnet\src\MiniProfiler.Shared\Data\ProfiledDbCommand.cs:line 216
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1051
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext() in /_/Dapper/SqlMapper.cs:line 1079
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 721
   at Dapper.SqlMapper.Query(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 648
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout)
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 27
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentRepositoryProxy.Insert(SysDepartment entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentServiceProxy.Insert(SysDepartment entity)
   at NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post(SysDepartment entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysDepartmentController.cs:line 57
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:1aa7ac51-24e8-42d0-baad-51922d6fdf15
Error Number:515,State:2,Class:16
2020-08-19 13:46:29.862 +08:00 [INF] Request finished in 60.9772ms 500 text/plain
2020-08-19 13:46:40.005 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000//profiler  
2020-08-19 13:46:40.017 +08:00 [INF] Request finished in 12.0575ms 404 
2020-08-19 13:46:45.333 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000//profiler/index  
2020-08-19 13:46:45.338 +08:00 [INF] Request finished in 4.6463ms 404 
2020-08-19 13:55:40.238 +08:00 [INF] 程序启动
2020-08-19 13:55:57.111 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 13:55:58.214 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 13:55:58.215 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 13:55:58.215 +08:00 [INF] Hosting environment: Development
2020-08-19 13:55:58.216 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 13:56:01.841 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 13:56:02.327 +08:00 [INF] Request finished in 488.2262ms 200 text/html;charset=utf-8
2020-08-19 13:56:02.850 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 13:56:02.973 +08:00 [INF] Request finished in 124.058ms 200 application/json;charset=utf-8
2020-08-19 13:56:08.416 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 122
2020-08-19 13:56:08.482 +08:00 [INF] CORS policy execution failed.
2020-08-19 13:56:08.482 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 13:56:08.683 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 13:56:08.726 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 13:56:10.166 +08:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-08-19 13:56:10.187 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 1454.8868ms
2020-08-19 13:56:10.233 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 13:56:10.254 +08:00 [INF] Request finished in 1838.0728ms 400 application/problem+json; charset=utf-8
2020-08-19 13:56:19.041 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 126
2020-08-19 13:56:19.047 +08:00 [INF] CORS policy execution failed.
2020-08-19 13:56:19.052 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 13:56:19.053 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 13:56:19.054 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 13:56:19.226 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 14:01:26.998 +08:00 [INF] 程序启动
2020-08-19 14:01:33.044 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 14:01:33.769 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 14:01:33.770 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 14:01:33.771 +08:00 [INF] Hosting environment: Development
2020-08-19 14:01:33.772 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 14:01:37.070 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 14:01:37.409 +08:00 [INF] Request finished in 341.824ms 200 text/html;charset=utf-8
2020-08-19 14:01:37.804 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 14:01:38.040 +08:00 [INF] Request finished in 237.1065ms 200 application/json;charset=utf-8
2020-08-19 14:01:59.422 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 125
2020-08-19 14:01:59.733 +08:00 [INF] CORS policy execution failed.
2020-08-19 14:01:59.734 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 14:02:00.892 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:02:00.931 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 14:02:02.516 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 14:07:00.683 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 299745.0858ms
2020-08-19 14:07:00.702 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:07:00.714 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Guid'.
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout) in F:\TestDemo\NetCoreBaseDemo\Dapper.SimpleCRUD\SimpleCRUD.cs:line 374
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 30
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentRepositoryProxy.Insert(SysDepartment entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentServiceProxy.Insert(SysDepartment entity)
   at NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post(SysDepartment entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysDepartmentController.cs:line 57
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-19 14:07:01.052 +08:00 [INF] Request finished in 301631.0657ms 500 text/plain
2020-08-19 14:07:10.537 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 125
2020-08-19 14:07:10.541 +08:00 [INF] CORS policy execution failed.
2020-08-19 14:07:10.542 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 14:07:10.543 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:07:10.544 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 14:07:10.585 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 14:10:33.185 +08:00 [INF] 程序启动
2020-08-19 14:10:33.473 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 14:10:33.633 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 14:10:33.634 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 14:10:33.634 +08:00 [INF] Hosting environment: Development
2020-08-19 14:10:33.635 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 14:10:34.119 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 14:10:34.286 +08:00 [INF] Request finished in 173.6802ms 200 text/html;charset=utf-8
2020-08-19 14:10:34.459 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 14:10:34.616 +08:00 [INF] Request finished in 157.4142ms 200 application/json;charset=utf-8
2020-08-19 14:10:46.485 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 157
2020-08-19 14:10:46.514 +08:00 [INF] CORS policy execution failed.
2020-08-19 14:10:46.515 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 14:10:46.539 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:10:46.571 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 14:10:47.055 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 14:10:47.480 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 904.6307ms
2020-08-19 14:10:47.482 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:10:47.483 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): 违反了 PRIMARY KEY 约束 'PK_SYSDEPARTMENTS'。不能在对象 'dbo.SysDepartments' 中插入重复键。
语句已终止。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\dotnet\src\MiniProfiler.Shared\Data\ProfiledDbCommand.cs:line 216
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1051
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext() in /_/Dapper/SqlMapper.cs:line 1079
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 721
   at Dapper.SqlMapper.Query(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 648
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout) in F:\TestDemo\NetCoreBaseDemo\Dapper.SimpleCRUD\SimpleCRUD.cs:line 399
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 30
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentRepositoryProxy.Insert(SysDepartment entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentServiceProxy.Insert(SysDepartment entity)
   at NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post(SysDepartment entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysDepartmentController.cs:line 58
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:1f2f3d2d-c57e-478a-baef-8386fdc76054
Error Number:2627,State:1,Class:14
2020-08-19 14:10:47.700 +08:00 [INF] Request finished in 1215.6462ms 500 text/plain
2020-08-19 14:11:05.159 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 157
2020-08-19 14:11:05.164 +08:00 [INF] CORS policy execution failed.
2020-08-19 14:11:05.164 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 14:11:05.166 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:11:05.168 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 14:11:05.180 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 14:11:05.249 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 78.143ms
2020-08-19 14:11:05.251 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:11:05.251 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): 违反了 PRIMARY KEY 约束 'PK_SYSDEPARTMENTS'。不能在对象 'dbo.SysDepartments' 中插入重复键。
语句已终止。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\dotnet\src\MiniProfiler.Shared\Data\ProfiledDbCommand.cs:line 216
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1051
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext() in /_/Dapper/SqlMapper.cs:line 1079
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 721
   at Dapper.SqlMapper.Query(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 648
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout) in F:\TestDemo\NetCoreBaseDemo\Dapper.SimpleCRUD\SimpleCRUD.cs:line 399
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 30
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentRepositoryProxy.Insert(SysDepartment entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysDepartmentServiceProxy.Insert(SysDepartment entity)
   at NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post(SysDepartment entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysDepartmentController.cs:line 58
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:1f2f3d2d-c57e-478a-baef-8386fdc76054
Error Number:2627,State:1,Class:14
2020-08-19 14:11:05.279 +08:00 [INF] Request finished in 120.4209ms 500 text/plain
2020-08-19 14:11:41.498 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 157
2020-08-19 14:11:41.510 +08:00 [INF] CORS policy execution failed.
2020-08-19 14:11:41.511 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 14:11:41.513 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:11:41.516 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 14:11:41.520 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 14:11:41.723 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 188.5686ms.
2020-08-19 14:11:41.730 +08:00 [INF] Executing ObjectResult, writing value of type 'NetCoreBaseDemo.Core.Models.BaseResutlData'.
2020-08-19 14:11:41.773 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 255.397ms
2020-08-19 14:11:41.775 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:11:41.824 +08:00 [INF] Request finished in 326.2511ms 200 application/json; charset=utf-8
2020-08-19 14:11:57.884 +08:00 [INF] 程序启动
2020-08-19 14:12:01.610 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 14:12:02.150 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 14:12:02.151 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 14:12:02.151 +08:00 [INF] Hosting environment: Development
2020-08-19 14:12:02.151 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 14:12:04.484 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 14:12:04.655 +08:00 [INF] Request finished in 174.7146ms 200 text/html;charset=utf-8
2020-08-19 14:12:04.848 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 14:12:04.969 +08:00 [INF] Request finished in 121.4182ms 200 application/json;charset=utf-8
2020-08-19 14:12:26.845 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 152
2020-08-19 14:12:26.875 +08:00 [INF] CORS policy execution failed.
2020-08-19 14:12:26.885 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 14:12:27.012 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:12:27.053 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 14:12:27.940 +08:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-08-19 14:12:27.955 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 893.4238ms
2020-08-19 14:12:27.960 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:12:27.981 +08:00 [INF] Request finished in 1136.5538ms 400 application/problem+json; charset=utf-8
2020-08-19 14:12:36.550 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 155
2020-08-19 14:12:36.561 +08:00 [INF] CORS policy execution failed.
2020-08-19 14:12:36.562 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 14:12:36.563 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:12:36.564 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 14:12:36.569 +08:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-08-19 14:12:36.577 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 7.4514ms
2020-08-19 14:12:36.579 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:12:36.623 +08:00 [INF] Request finished in 73.2931ms 400 application/problem+json; charset=utf-8
2020-08-19 14:12:43.434 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 157
2020-08-19 14:12:43.440 +08:00 [INF] CORS policy execution failed.
2020-08-19 14:12:43.443 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 14:12:43.447 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:12:43.449 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 14:12:43.528 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 14:14:41.215 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 117677.4768ms.
2020-08-19 14:14:42.783 +08:00 [INF] Executing ObjectResult, writing value of type 'NetCoreBaseDemo.Core.Models.BaseResutlData'.
2020-08-19 14:14:42.807 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 119355.7ms
2020-08-19 14:14:42.809 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:14:42.813 +08:00 [INF] Request finished in 119378.636ms 200 application/json; charset=utf-8
2020-08-19 14:14:51.245 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 157
2020-08-19 14:14:51.248 +08:00 [INF] CORS policy execution failed.
2020-08-19 14:14:51.249 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 14:14:51.250 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:14:51.252 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 14:14:51.278 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 14:17:20.343 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 149063.0653ms.
2020-08-19 14:17:22.277 +08:00 [INF] Executing ObjectResult, writing value of type 'NetCoreBaseDemo.Core.Models.BaseResutlData'.
2020-08-19 14:17:22.280 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 151025.6421ms
2020-08-19 14:17:22.289 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:17:22.290 +08:00 [INF] Request finished in 151045.3653ms 200 application/json; charset=utf-8
2020-08-19 14:17:31.249 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysAccount application/json 249
2020-08-19 14:17:31.252 +08:00 [INF] CORS policy execution failed.
2020-08-19 14:17:31.253 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 14:17:31.255 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:17:31.260 +08:00 [INF] Route matched with {action = "Post", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysAccount) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 14:17:31.369 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 14:22:59.096 +08:00 [INF] 程序启动
2020-08-19 14:22:59.378 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 14:22:59.542 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 14:22:59.543 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 14:22:59.543 +08:00 [INF] Hosting environment: Development
2020-08-19 14:22:59.544 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 14:23:00.055 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 14:23:00.161 +08:00 [INF] Request finished in 110.1564ms 200 text/html;charset=utf-8
2020-08-19 14:23:00.327 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 14:23:00.459 +08:00 [INF] Request finished in 132.0725ms 200 application/json;charset=utf-8
2020-08-19 14:23:13.260 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysAccount application/json 246
2020-08-19 14:23:13.287 +08:00 [INF] CORS policy execution failed.
2020-08-19 14:23:13.288 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 14:23:13.316 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:23:13.350 +08:00 [INF] Route matched with {action = "Post", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysAccount) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 14:23:13.799 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 14:23:13.869 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) in 514.7368ms
2020-08-19 14:23:13.870 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:23:13.871 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Guid'.
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout) in F:\TestDemo\NetCoreBaseDemo\Dapper.SimpleCRUD\SimpleCRUD.cs:line 374
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 30
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysAccountRepositoryProxy.Insert(SysAccount entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysAccountServiceProxy.Insert(SysAccount entity)
   at NetCoreBaseApiDemo.Controllers.SysAccountController.Post(SysAccount entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysAccountController.cs:line 63
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-19 14:23:13.913 +08:00 [INF] Request finished in 653.1606ms 500 text/plain
2020-08-19 14:24:28.803 +08:00 [INF] 程序启动
2020-08-19 14:24:29.069 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 14:24:29.232 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 14:24:29.233 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 14:24:29.233 +08:00 [INF] Hosting environment: Development
2020-08-19 14:24:29.233 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 14:24:29.924 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 14:24:30.042 +08:00 [INF] Request finished in 122.017ms 200 text/html;charset=utf-8
2020-08-19 14:24:30.501 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 14:24:30.645 +08:00 [INF] Request finished in 144.308ms 200 application/json;charset=utf-8
2020-08-19 14:24:36.328 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysAccount application/json 246
2020-08-19 14:24:36.360 +08:00 [INF] CORS policy execution failed.
2020-08-19 14:24:36.361 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 14:24:36.387 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:24:36.424 +08:00 [INF] Route matched with {action = "Post", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysAccount) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 14:24:36.875 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 14:24:37.779 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) in 1349.4993ms
2020-08-19 14:24:37.781 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:24:37.782 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): INSERT 语句与 FOREIGN KEY 约束"FK_SYSACCOU_REFERENCE_SYSDEPAR"冲突。该冲突发生于数据库"MasterDb"，表"dbo.SysDepartments", column 'Id'。
语句已终止。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\dotnet\src\MiniProfiler.Shared\Data\ProfiledDbCommand.cs:line 216
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1051
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext() in /_/Dapper/SqlMapper.cs:line 1079
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 721
   at Dapper.SqlMapper.Query(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 648
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout) in F:\TestDemo\NetCoreBaseDemo\Dapper.SimpleCRUD\SimpleCRUD.cs:line 399
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 30
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysAccountRepositoryProxy.Insert(SysAccount entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysAccountServiceProxy.Insert(SysAccount entity)
   at NetCoreBaseApiDemo.Controllers.SysAccountController.Post(SysAccount entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysAccountController.cs:line 63
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:7567b14d-e228-42d2-b92d-e3725f294ad4
Error Number:547,State:0,Class:16
2020-08-19 14:24:37.845 +08:00 [INF] Request finished in 1517.1884ms 500 text/plain
2020-08-19 14:25:08.263 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysAccount application/json 276
2020-08-19 14:25:08.274 +08:00 [INF] CORS policy execution failed.
2020-08-19 14:25:08.276 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 14:25:08.278 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:25:08.280 +08:00 [INF] Route matched with {action = "Post", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysAccount) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 14:25:08.289 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 14:25:08.304 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) in 22.0712ms
2020-08-19 14:25:08.305 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:25:08.306 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): INSERT 语句与 FOREIGN KEY 约束"FK_SYSACCOU_REFERENCE_SYSDEPAR"冲突。该冲突发生于数据库"MasterDb"，表"dbo.SysDepartments", column 'Id'。
语句已终止。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\dotnet\src\MiniProfiler.Shared\Data\ProfiledDbCommand.cs:line 216
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1051
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext() in /_/Dapper/SqlMapper.cs:line 1079
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 721
   at Dapper.SqlMapper.Query(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 648
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout) in F:\TestDemo\NetCoreBaseDemo\Dapper.SimpleCRUD\SimpleCRUD.cs:line 399
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 30
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysAccountRepositoryProxy.Insert(SysAccount entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysAccountServiceProxy.Insert(SysAccount entity)
   at NetCoreBaseApiDemo.Controllers.SysAccountController.Post(SysAccount entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysAccountController.cs:line 63
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:7567b14d-e228-42d2-b92d-e3725f294ad4
Error Number:547,State:0,Class:16
2020-08-19 14:25:08.329 +08:00 [INF] Request finished in 66.5975ms 500 text/plain
2020-08-19 14:25:20.733 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysAccount application/json 276
2020-08-19 14:25:20.747 +08:00 [INF] CORS policy execution failed.
2020-08-19 14:25:20.748 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 14:25:20.750 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:25:20.751 +08:00 [INF] Route matched with {action = "Post", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysAccount) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 14:25:20.758 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 14:25:20.764 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) in 10.5012ms
2020-08-19 14:25:20.764 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:25:20.765 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): INSERT 语句与 FOREIGN KEY 约束"FK_SYSACCOU_REFERENCE_SYSDEPAR"冲突。该冲突发生于数据库"MasterDb"，表"dbo.SysDepartments", column 'Id'。
语句已终止。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\dotnet\src\MiniProfiler.Shared\Data\ProfiledDbCommand.cs:line 216
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1051
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext() in /_/Dapper/SqlMapper.cs:line 1079
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 721
   at Dapper.SqlMapper.Query(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 648
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout) in F:\TestDemo\NetCoreBaseDemo\Dapper.SimpleCRUD\SimpleCRUD.cs:line 399
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 30
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysAccountRepositoryProxy.Insert(SysAccount entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysAccountServiceProxy.Insert(SysAccount entity)
   at NetCoreBaseApiDemo.Controllers.SysAccountController.Post(SysAccount entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysAccountController.cs:line 63
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:7567b14d-e228-42d2-b92d-e3725f294ad4
Error Number:547,State:0,Class:16
2020-08-19 14:25:20.831 +08:00 [INF] Request finished in 99.1933ms 500 text/plain
2020-08-19 14:26:21.866 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysAccount application/json 276
2020-08-19 14:26:21.869 +08:00 [INF] CORS policy execution failed.
2020-08-19 14:26:21.870 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 14:26:21.872 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:26:21.887 +08:00 [INF] Route matched with {action = "Post", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysAccount) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 14:26:21.894 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 14:26:21.908 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) in 18.8381ms
2020-08-19 14:26:21.909 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:26:21.909 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): INSERT 语句与 FOREIGN KEY 约束"FK_SYSACCOU_REFERENCE_SYSDEPAR"冲突。该冲突发生于数据库"MasterDb"，表"dbo.SysDepartments", column 'Id'。
语句已终止。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\dotnet\src\MiniProfiler.Shared\Data\ProfiledDbCommand.cs:line 216
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1051
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext() in /_/Dapper/SqlMapper.cs:line 1079
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 721
   at Dapper.SqlMapper.Query(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 648
   at Dapper.SimpleCRUD.Insert[TKey,TEntity](IDbConnection connection, TEntity entityToInsert, IDbTransaction transaction, Nullable`1 commandTimeout) in F:\TestDemo\NetCoreBaseDemo\Dapper.SimpleCRUD\SimpleCRUD.cs:line 399
   at NetCoreBaseDemo.Dapper.Repository.BaseRepository`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Dapper.Repository\BaseRepository.cs:line 30
   at Castle.Proxies.Invocations.IBaseRepository`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysAccountRepositoryProxy.Insert(SysAccount entity)
   at NetCoreBaseDemo.Service.BaseService`2.Insert(TEntity entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Service\Base\BaseService.cs:line 19
   at Castle.Proxies.Invocations.IBaseService`2_Insert.InvokeMethodOnTarget()
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at NetCoreBaseDemo.Core.Aop.SayHelloAop.Intercept(IInvocation invocation) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseDemo.Core\Aop\SayHelloAop.cs:line 13
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at Castle.Proxies.ISysAccountServiceProxy.Insert(SysAccount entity)
   at NetCoreBaseApiDemo.Controllers.SysAccountController.Post(SysAccount entity) in F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo\Controllers\SysAccountController.cs:line 63
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 105
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:7567b14d-e228-42d2-b92d-e3725f294ad4
Error Number:547,State:0,Class:16
2020-08-19 14:26:21.932 +08:00 [INF] Request finished in 66.2984ms 500 text/plain
2020-08-19 14:26:33.686 +08:00 [INF] Application is shutting down...
2020-08-19 14:27:21.254 +08:00 [INF] 程序启动
2020-08-19 14:27:21.555 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 14:27:21.718 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 14:27:21.720 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 14:27:21.720 +08:00 [INF] Hosting environment: Development
2020-08-19 14:27:21.721 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 14:27:22.325 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 14:27:22.492 +08:00 [INF] Request finished in 176.3875ms 200 text/html;charset=utf-8
2020-08-19 14:27:22.694 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 14:27:22.849 +08:00 [INF] Request finished in 154.5064ms 200 application/json;charset=utf-8
2020-08-19 14:27:26.240 +08:00 [INF] Application is shutting down...
2020-08-19 14:27:40.788 +08:00 [INF] 程序启动
2020-08-19 14:27:41.076 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 14:27:41.241 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 14:27:41.242 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 14:27:41.242 +08:00 [INF] Hosting environment: Development
2020-08-19 14:27:41.243 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 14:27:41.809 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 14:27:41.927 +08:00 [INF] Request finished in 121.9294ms 200 text/html;charset=utf-8
2020-08-19 14:27:42.224 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 14:27:42.378 +08:00 [INF] Request finished in 154.3844ms 200 application/json;charset=utf-8
2020-08-19 14:27:53.217 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysDepartment application/json 129
2020-08-19 14:27:53.243 +08:00 [INF] CORS policy execution failed.
2020-08-19 14:27:53.245 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 14:27:53.273 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:27:53.309 +08:00 [INF] Route matched with {action = "Post", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysDepartment) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 14:27:53.770 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 14:27:54.010 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 233.6904ms.
2020-08-19 14:27:54.015 +08:00 [INF] Executing ObjectResult, writing value of type 'NetCoreBaseDemo.Core.Models.BaseResutlData'.
2020-08-19 14:27:54.028 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo) in 712.1604ms
2020-08-19 14:27:54.029 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:27:54.047 +08:00 [INF] Request finished in 830.5116ms 200 application/json; charset=utf-8
2020-08-19 14:28:17.160 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 14:28:17.165 +08:00 [INF] Request finished in 4.6602ms 200 text/html;charset=utf-8
2020-08-19 14:28:17.378 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 14:28:17.397 +08:00 [INF] Request finished in 19.4055ms 200 application/json;charset=utf-8
2020-08-19 14:28:17.408 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon-32x32.png  
2020-08-19 14:28:17.523 +08:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2020-08-19 14:28:17.524 +08:00 [INF] Request finished in 115.845ms 200 image/png
2020-08-19 14:28:56.101 +08:00 [INF] 程序启动
2020-08-19 14:28:56.351 +08:00 [INF] User profile is available. Using 'C:\Users\KO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-19 14:28:56.512 +08:00 [INF] Now listening on: http://localhost:5000
2020-08-19 14:28:56.513 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 14:28:56.513 +08:00 [INF] Hosting environment: Development
2020-08-19 14:28:56.513 +08:00 [INF] Content root path: F:\TestDemo\NetCoreBaseDemo\NetCoreBaseApiDemo
2020-08-19 14:28:57.179 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html  
2020-08-19 14:28:57.294 +08:00 [INF] Request finished in 124.5934ms 200 text/html;charset=utf-8
2020-08-19 14:28:57.470 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-08-19 14:28:57.624 +08:00 [INF] Request finished in 154.2099ms 200 application/json;charset=utf-8
2020-08-19 14:29:10.747 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/SysDepartment/string  
2020-08-19 14:29:10.796 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo)'
2020-08-19 14:29:10.844 +08:00 [INF] Route matched with {action = "Get", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(System.String) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 14:29:11.308 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 14:29:11.537 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 222.3145ms.
2020-08-19 14:29:11.542 +08:00 [INF] Executing ObjectResult, writing value of type 'NetCoreBaseDemo.Core.Models.BaseResutlData'.
2020-08-19 14:29:11.585 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo) in 735.0089ms
2020-08-19 14:29:11.587 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo)'
2020-08-19 14:29:11.599 +08:00 [INF] Request finished in 852.4266ms 200 application/json; charset=utf-8
2020-08-19 14:29:19.259 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/SysDepartment/3FA85F64-5717-4562-B3FC-2C963F66AFA4  
2020-08-19 14:29:19.263 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo)'
2020-08-19 14:29:19.265 +08:00 [INF] Route matched with {action = "Get", controller = "SysDepartment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(System.String) on controller NetCoreBaseApiDemo.Controllers.SysDepartmentController (NetCoreBaseApiDemo).
2020-08-19 14:29:19.274 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 14:29:19.280 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.7563ms.
2020-08-19 14:29:19.286 +08:00 [INF] Executing ObjectResult, writing value of type 'NetCoreBaseDemo.Core.Models.BaseResutlData'.
2020-08-19 14:29:19.288 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo) in 20.8943ms
2020-08-19 14:29:19.289 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysDepartmentController.Get (NetCoreBaseApiDemo)'
2020-08-19 14:29:19.291 +08:00 [INF] Request finished in 32.0951ms 200 application/json; charset=utf-8
2020-08-19 14:29:41.272 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysAccount application/json 276
2020-08-19 14:29:41.279 +08:00 [INF] CORS policy execution failed.
2020-08-19 14:29:41.280 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 14:29:41.284 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:29:41.288 +08:00 [INF] Route matched with {action = "Post", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysAccount) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 14:29:41.316 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 14:29:41.372 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 54.9279ms.
2020-08-19 14:29:41.375 +08:00 [INF] Executing ObjectResult, writing value of type 'NetCoreBaseDemo.Core.Models.BaseResutlData'.
2020-08-19 14:29:41.377 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) in 86.0315ms
2020-08-19 14:29:41.378 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:29:41.379 +08:00 [INF] Request finished in 107.4661ms 200 application/json; charset=utf-8
2020-08-19 14:29:44.956 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysAccount application/json 276
2020-08-19 14:29:44.961 +08:00 [INF] CORS policy execution failed.
2020-08-19 14:29:44.962 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 14:29:44.965 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:29:44.968 +08:00 [INF] Route matched with {action = "Post", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysAccount) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 14:29:44.975 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 14:29:45.004 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.4655ms.
2020-08-19 14:29:45.006 +08:00 [INF] Executing ObjectResult, writing value of type 'NetCoreBaseDemo.Core.Models.BaseResutlData'.
2020-08-19 14:29:45.007 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) in 35.9235ms
2020-08-19 14:29:45.008 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:29:45.009 +08:00 [INF] Request finished in 53.3693ms 200 application/json; charset=utf-8
2020-08-19 14:30:00.388 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/SysAccount application/json 276
2020-08-19 14:30:00.392 +08:00 [INF] CORS policy execution failed.
2020-08-19 14:30:00.393 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2020-08-19 14:30:00.394 +08:00 [INF] Executing endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:30:00.395 +08:00 [INF] Route matched with {action = "Post", controller = "SysAccount"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(TheAcme.EntityModule.DbModels.SysAccount) on controller NetCoreBaseApiDemo.Controllers.SysAccountController (NetCoreBaseApiDemo).
2020-08-19 14:30:00.400 +08:00 [INF] Executing action method NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) - Validation state: "Valid"
2020-08-19 14:30:00.463 +08:00 [INF] Executed action method NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 61.174ms.
2020-08-19 14:30:00.465 +08:00 [INF] Executing ObjectResult, writing value of type 'NetCoreBaseDemo.Core.Models.BaseResutlData'.
2020-08-19 14:30:00.467 +08:00 [INF] Executed action NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo) in 70.7115ms
2020-08-19 14:30:00.468 +08:00 [INF] Executed endpoint 'NetCoreBaseApiDemo.Controllers.SysAccountController.Post (NetCoreBaseApiDemo)'
2020-08-19 14:30:00.470 +08:00 [INF] Request finished in 81.5486ms 200 application/json; charset=utf-8
2020-08-19 14:31:15.356 +08:00 [INF] Application is shutting down...
